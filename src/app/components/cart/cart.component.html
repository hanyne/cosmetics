<!-- cart.component.html -->
<app-navbar></app-navbar>
<section class="vh-100" style="background-image: url('https://img.freepik.com/vecteurs-libre/peint-main-aquarelle-abstrait-aquarelle_23-2149008794.jpg?t=st=1715029639~exp=1715033239~hmac=8f935f8f93befaf54937f976b02e223634615328eb0ad87e132efc93f0f252b1&w=996'); background-size: cover; background-position: center;">  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col">
        <p><span class="h2">Shopping Cart </span><span class="h4">({{ cartItems.length }} items in your cart)</span></p>

        <div *ngFor="let item of cartItems" class="card mb-4">
          <div class="card-body p-4">

            <div class="row align-items-center">
              <div class="col-md-2">
                <img [src]="item.product.image" class="img-fluid" alt="{{ item.product.name }}">
              </div>
              <div class="col-md-2 d-flex justify-content-center">
                <div>
                  <p class="small text-muted mb-4 pb-2">Name</p>
                  <p class="lead fw-normal mb-0">{{ item.product.name }}</p>
                </div>
              </div>
              <div class="col-md-2 d-flex justify-content-center">
                <div>
                  <p class="small text-muted mb-4 pb-2">Quantity</p>
                  <div class="input-group">
                    <button class="btn btn-outline-secondary" type="button" (click)="decreaseQuantity(item)">-</button>
                    <input type="text" class="form-control text-center" [(ngModel)]="item.quantity">
                    <button class="btn btn-outline-secondary" type="button" (click)="increaseQuantity(item)">+</button>
                  </div>
                </div>
              </div>
              <div class="col-md-2 d-flex justify-content-center">
                <div>
                  <p class="small text-muted mb-4 pb-2">Price</p>
                  <p class="lead fw-normal mb-0">{{ item.product.price }} DT</p>
                </div>
              </div>
              <div class="col-md-2 d-flex justify-content-center">
                <div>
                  <p class="small text-muted mb-4 pb-2">Total</p>
                  <p class="lead fw-normal mb-0">{{ item.product.price * item.quantity }} DT</p>
                </div>
              </div>
              <!-- IcÃ´ne de suppression -->
              <div class="col-md-1 d-flex justify-content-center align-items-center">
                <button class="btn btn-link text-danger" (click)="removeFromCart(item)">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>

          </div>
        </div>

        <div class="card mb-5">
          <div class="card-body p-4">

            <div class="float-end">
              <p class="mb-0 me-5 d-flex align-items-center">
                <span class="small text-muted me-2">Order total:</span>
                <span class="lead fw-normal">{{ getTotalPrice() }} TND</span>
              </p>
            </div>

          </div>
        </div>

        
        <div class="d-flex justify-content-end">
          <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-light btn-lg me-2 btn-pink">Continue shopping</button>
          <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-lg btn-pink">Add to cart</button>
        </div>


      </div>
    </div>
  </div>
</section>
